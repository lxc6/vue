# Vue基础-基础选项和指令

## 基础-vue 是什么之前端现状

>**`目标`**: 了解Vue是什么 
>
>* Vue是一个优秀的**`前端框架`**  ,几乎所有前端必学.
>* 开发者按照Vue的**`规范`**进行开发
>
>**`英语水平限制你的发展`**
>
>1. 和DOM**`解耦`**  
>2. 适应当前**`SPA`**的项目开发 Single Page  Application
>3. 传统网站开发 一般来说 需求不大 传统网站就是 MPA => Muti Page Application
>4. 当下各种新框架都采用了**`类Vue`**或者**`类React`**的语法去作 为主语法
>
>     *  微信小程序 =>  借鉴了 Vue 和 React的语法 
>     *  百度小程序/支付宝/头条/..  => 借鉴了 微信小程序的做法
>
> 多端应用 => uni-app 就是Vuejs语法
>
>​                       taro 是 react语法  
>
>   滴滴  

## 基础-vue 特点

>**`目标`**了解Vue的特点  
>
>1. **`响应式数据`** 数据驱动视图  可以让我们只关注数据  Vue中数据是响应式的 => 数据变化 => 视图一定变化
>2. **`MVVM`** 双向绑定 => 数据 <=> 视图 , 数据变化 ==>视图变化 ,视图变化 => 数据变化
>3. **`指令`**增强了html功能 新特性 ,Vue扩展了html标签的功能 用指令,  angular 是最早的开发spa的MVVM框架, knockout / smartclient
>4. **`组件化开发`** => SPA => 只有一个页面 => 所有的功能都会按照组件开发

## 基础-一些链接

>**`目标`** 知道如何查阅文档
>
>[Vue官方文档](https://cn.vuejs.org/)  介绍所有的关于Vue的教程/API
>
>[Vue开源项目汇总](https://github.com/opendigg/awesome-github-vue)
>
>[Vue.js中文社区](https://www.vue-js.com/)
>
>* 所有关于Vue的问题都可以通过**`查阅文档`**解决
>
>**`任务`** 学会Vue官网官方文档 查阅资料

## 基础-vue 三种安装方式

>**`目标`**: 了解采用几种方式安装vue
>
>1. 采用本地文件引入的方式  直接下载 在页面中引入
>2. 采用 在线cdn引入的方式
>   * cdn相当于把一个文件放在了全国各地,然后你离哪里近,就从哪里调拨给你
>   * 用更快的方式获取到文件资源
>3. 采用npm安装的方式
>

现状: 都会采用npm的方式来进行正式项目开发

教学阶段: 基础部分 先采用本地引用方式的学习方式

**`任务`**: 

1. 下载一个vue.js
2. 新建一个html页面
3. 在页面中引入vue.js

## 基础-HelloWorld

>**`目标`** 掌握如何在页面中实例化 一个Vue对象	写出 hello world
>
>**`步骤`**:
>
>1. body中,设置Vue管理的视图<div id="app"></div>
>2. 引入vue.js
>3. 实例化Vue对象 new Vue();
>4. 设置Vue实例的选项:如el、data...     
>	new Vue({选项:值});
>5. 在视图中通过**`{{ }}`**使用data中的数据
>
>**`任务`**:  
>
>1. 在一个html页面中实现 将hello world显示在页面上
>

## 基础-实例选项-el

>**`目标`**:了解 Vue实例中el选项的含义
>
>- 作用:**`当前Vue实例所管理的html视图`**  在视图之外 ,就不能应用Vue特性
>- 值:通常是id选择器(或者是一个 HTMLElement 实例
>- id/class/标签/dom对象
>
>- 不要让el所管理的视图是html或者body!
>
>`注意`:  不论是什么选择器 , Vue实例只能对应选择器所选择的dom元素的**`第一个`**, Vue实例 对应视图 是 
>
>**`1 对 1`** 
>
>正常开发过程中:  只有一个Vue实例, 然后的内容都从这个实例进行派生,
>
>**`一般项目中,只有一个实例, el一般都会用id选择器`**
>
>**`任务`**
>
>1. 尝试用 id选择器 设置el 页面显示  **`跟紧老高小步跑`**
>2. 尝试用class选择器 设置el 页面显示  **`vuejs真奇妙`**
>3. 尝试 用 dom对象 设置el 页面显示    **`今天写个demo瞧一瞧`**
>4. 尝试设置 html 或者body为el 查看效果

## 基础-实例选项-data

>**`目标`**: 掌握**`响应式数据`**的操作方式 和更新方法
>
>- Vue 实例的数据对象，是响应式数据(数据驱动视图) 数据变化 => 视图变化
>- 可以通过 `vm.$data` 访问原始数据对象 =>Vue框架给所有的属性都加了$特殊符号
>- Vue 实例 **`vm`**也代理了 data 对象上所有的属性，因此访问 `vm.a` 等价于访问 `vm.$data.a`
>- 视图中绑定的数据必须**`显式`**的初始化到 data 中
>- 数据对象的更新方式 直接 采用 **`实例.属性 = 值`** ,也就是 vm.属性 = 值
>
>**`任务`**
>
>1.  将数据对象中message初始值设置为 **`天生我才必有用`**,   money为  **`13000`**, list为 数组 **`["盖茨","巴菲特","贝索斯"]`**
>2.  通过vm.属性的方式打印 以上三个属性
>3.  通过 {{ 变量名 }} 的方式 将以上三个属性显示在页面上
>4.  通过vm.属性 = 赋值的方式 改变 message为 **`千金散去还复来`** money为 **`15000`**数组为**`["盖茨","巴菲特","贝索斯","我"]`**
>

## 基础-实例选项-methods

>**`目标`**: 掌握 实例选项methods中方法的使用及注意事项
>
>- methods是一个对象,对象里面是多个方法
>- 可以直接通过 **`VM 实例`**访问这些方法，或者在**`指令/表达式中使用`**。
>- 方法中的 `this` 自动绑定为 Vue 实例**`vm`**。
>- methods中所有的方法 同样也被代理到了 Vue实例对象上,都可通过this访问
>- Vue实例代理了data中所有属性,代理了methods方法 ,定义属性或者方法时 要考虑**`重名`**问题
>- 注意，**`不应该使用箭头函数来定义 method 函数`** (例如 `plus: () => this.a++`)。理由是箭头函数绑定了父级作用域的上下文，所以 `this` 将不会按照期望指向 Vue 实例，`this.a` 将是 undefined
>
>```js
>new Vue({
>el:"#app",
>data:{
>  name:"Hello world",
>  name2:"Hello world2"
>},
>methods:{
>  fn1:function(){
>      // 常规写法
>      console.log(this.name)
>      this.fn2() // 调用方法2
>  },
>  fn2() {
>      // es6 写法
>      console.log(this.name2)
>  }
>}
>})
>```
>
>**`任务:`** 
>
>1. 实例化一个Vue实例, 
>2. 定义两个属性  alipay   wechat    初始值分别为  支付宝    腾讯
>3. 定义两个方法 fn1 fn2  两个方法中分别输出 alipay   和 wechat    的值
>
>**注意** 可以在控制台中 分别调用 fn1 和 fn2方法 调用

## 基础-术语解释-插值表达式(重要)

> **`目标`**: 理解和使用插值表达式

> 作用:会将绑定的数据实时的显示出来:
>
> 形式: 通过 **`{{ 插值表达式 }}`**包裹的形式 
>
> 通过任何方式修改所绑定的数据,所显示的数据都会被实时替换(响应式数据)

{{js表达式、三元运算符、方法调用等}}

{{  a }}   纯变量形式

{{  a  = 10 }}   赋值形式

{{  a > 10  }} 逻辑判断

{{  a + b + c  }} 逻辑运算

{{  fn() }}  方法调用

{{ a > 0 ? "成功" : "失败"  }} 三元运算符

**`注意`**:不能写 `var a = 10; 分支语句 循环语句`  if  else  /for 

插值表达式不能写 关键字  var/const /let /if /else

```html
        <!-- 为所欲为 -->
        <!-- 1  纯变量形式 -->
        <!-- {{ name }} -->
        <p>名字:{{ name }}</p>
        <!-- 2 赋值形式 -->
        <p>{{ name = '朱祥亮' }}</p>
        <!-- 3 逻辑判断  -->
        <p>{{ money > 8000  }}</p>
        <!-- 4 逻辑运算 -->
        <p>{{ money - house }}</p>
        <!-- 5 方法调用 需要小括号 -->
        <p>{{ getName() }}</p>
        <!--6 三元表达式 -->
        <p>{{ money > 10000 ? '入职' : '离职' }}</p>
```

>**`任务`**
>
>1. 初始化一个Vue实例
>2. 在data中定义  msg :  **`我要成为前端程序员`**   showMessage: **`false`**, 数组: **`[1,2,3]`**
>3. 要求根据data中的数据用插值表达式输出   **`知道前端的水有多深吗`**,  false,   321（**`特别注意`**）
>
>You may have an infinite update loop in a component render function. **`有死循环`**
>
>list.reverse => 改变的是**`原数组的数据`** => 数据变化  => 视图更新 => 重新执行list.reverse()
>
>如果想要实现  list:[1,2,3]   => 显示321的效果,就需要摆脱原数组

## 基础-术语解释-指令(重要)

>**`目标:`**了解指令的基本含义 并应用一个指令
>
>* 指令 (Directives) 是带有 `v-` 前缀的特殊特性。 对于html标签的功能扩展,一个指令对应一个功能
>
>```html
><p v-text="name"></p> // 将name这个变量(data中定义的变量)给了v-text指令
><p title="name"></p> // 将name这个字符串给了title属性
>```
>
>一般的指令后面的值都是 变量表达式,
>
>* 指令特性的值预期是**`单个 JavaScript 表达式`**(`v-for` 是例外情况，稍后我们再讨论)。
>* 指令的职责是，当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM。
>* 指令位置:  起始标签
>
>**`语法`**  v-指令=“表达式”  如果 表达式想要是一个静态字符串 就必须这样写（用单引号包裹）  v-指令=**`" '字符串' "`**，否则会被当做一个 data数据中的变量
>
>代码示例
>
>```html
> <div v-text="'老高讲的一点都不nice'"></div>  // 如果想展示静态字符串 就需要 加单引号
>```
>
>**`任务`**: 
>
>1. 初始化一个Vue实例
>2. 定义一个data属性 name:   **`赶紧回北京吧,北漂它不香吗`**
>3. 使用v-text指令将data内容显示在p标签上
>

## 基础-系统指令-v-text 和 v-html

>**`目标`**:掌握如何使用v-text 和 v-html
>
>> 很像innerText和innerHTML
>
>- v-text:更新标签中的文本内容
>
>- v-text和插值表达式的区别
>  - v-text  更新**`整个`**标签中的内容
>  - 插值表达式: 更新标签中**`局部`**的内容
>
>- v-html:更新标签中的内容/标签
>
>- 可以渲染内容中的HTML标签
>- 注意:尽量避免使用，容易造成危险 , 因为 可以注入html标签就意味着 可以 写入script标签, 有可能造成 被不法分子共计
>
>```html
> <div id="app">
>        <!-- 插值表达式 局部替换内容-->
>        <p>肖战: {{ content }}</p>
>        <!-- 指令 v-text是替换标签内的所有内容 -->
>        <p v-text="content">
>            肖战 是程老师的偶像
>        </p>
>        <div v-text="contentHtml"></div>
>        <div v-html="contentHtml"></div>
>    </div>
>    <script src="./vue.js"></script>
>    <script>
>        var vm = new Vue({
>            el: '#app',
>            data: {
>                content: '长得好看的人如果能力强,就不可阻挡',
>                contentHtml: `<span style="font-size: 20px; color:blue"> 肖战同学如此欢迎 </span>`
>            },
>            methods: {}
>        });
>    </script>
>```
>
>
>
>**`任务`**
>
>1. 初始化一个vue实例
>2. 定义一个 数据对象 name:  **`人生最大的奢侈竟然是上班`**
>3. 分别使用v-text和插值表达式将 内容显示在p标签上
>4. 定义一个数据对象 **`nameHtml`**:  **`程序员最痛苦的是调bug`**    ,使用v-html将   显示在p标签上,并且内容为红色
>

## 基础-系统指令-v-if 和 v-show

> **`目标`**:掌握**`条件渲染`**指令的两种方式
>
> ​     根据条件决定内容的显示与否
>
> * 场景:  需要根据条件决定 元素是否显示  使用以上指令
> * 使用: v-if 和 v-show 后面的表达式返回的布尔值 来决定 该元素显示隐藏
> * **注意** :   **`v-if 是直接决定元素 的 添加 或者删除  而 v-show 只是根据样式来决定 显示隐藏`**
>
> v-if  可以 和 v-else 并用  
>
> * 如果 v-if 的表达式为 true, v-else 这个元素就不会渲染
> * 如果v-if的表达式 为false    v-else 这个元素就会渲染
>
> ```html
>     <button onclick="openLight()">开/关</button>
>     <div id="app">
>         <!-- 开灯 -->
>         <!-- 条件渲染 v-if -->
>         <!-- <div v-if="light" class='light'></div> -->
>         <!-- 关灯 -->
>         <!-- <div v-if="!light" class='night'></div> -->
>         <!-- v-else写法 -->
>         <!-- <div v-else class='night'></div> -->
>         <div v-show="light" class='light'></div>
>         <div v-show="!light" class='night'></div>
> 
>     </div>
>     <script src="./vue.js"></script>
>     <script>
>         var vm = new Vue({
>             el: '#app',
>             data: {
>                 light: true // light 为true表示开灯状态 light false表示 关灯状态
>             },
>             methods: {}
>         });
>         // 开灯
>         function openLight() {
>             vm.light = !vm.light // 数据变化  => 视图更新
>         }
>     </script>
> ```
>
> v-if决定元素是否删除或者增加 v-show决定元素 的样式 是否是display:none
>
> `v-if` 有更高的切换开销，而 `v-show` 有更高的初始渲染开销。
>
> 一般来说, 用v-if 的 频率比v-show要多
>
> 因此，如果需要非常频繁地切换，则使用 `v-show` 较好；
>
> 如果在运行时条件很少改变，则使用 `v-if` 较好。
>
> 如果 切换频繁 前者 开销更大  

**`扩展`**   如果 有多个元素需要根据条件进行渲染，怎么办？我们可以用一个**`div标签`**来**`包裹多个元素`**，

但是这样的话 我们相当于**`多了一个div标签`**，我们可以采用一个**`template`**标签，来解决这个问题，template标签不会产生任何实质的标签在页面上，并且能完成相应的功能

> **`任务`**:
>
> 1. 定义一个Vue实例
> 2. 定义一个布尔型变量showMessage : **`false`**  
> 3. 分别使用v-if 和 v-show来 做一个**`开关灯`**的效果
>

